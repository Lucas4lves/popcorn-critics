import  Comment  from "./Critic";

class Movie{
    id: any;
    title: String;
    synopsis: String;
    genre: String;
    rating: Number;
    imgUrl: any;
    comments: Comment[];
    likes: number;

    constructor(id : any, 
                title: String, 
                synopsis: String, 
                genre: String, 
                rating : Number, 
                imgUrl: any, 
                comments: Comment[], 
                likes: number )
    {
        this.id = id;
        this.title = title;
        this.synopsis = synopsis;
        this.genre = genre;
        this.rating = rating;
        this.imgUrl = imgUrl;
        this.comments = comments;
        this.likes = likes;
    }

    getLikes()
    {
        return this.likes;
    }

    increaseLikes()
    {
        this.likes = this.likes + 1;
    }

    decreaseLikes()
    {
        if(this.likes === 0)
        {
            this.likes = 0;
        }
        this.likes = this.likes - 1;
    }

}

const movies = [
    {
        id: 1,
        title: "The Menu", 
        synopsis:"A young couple travels to a remote island to eat at an exclusive restaurant where the chef has prepared a lavish menu, with some shocking surprises.",
        genre: "terror",
        rating: 7.2,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BMzdjNjI5MmYtODhiNS00NTcyLWEzZmUtYzVmODM5YzExNDE3XkEyXkFqcGdeQXVyMTAyMjQ3NzQ1._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 2,
        title: " M3GAN", 
        synopsis: "A robotics engineer at a toy company builds a life-like doll that begins to take on a life of its own.",
        genre: "terror",
        rating: 6.5,
        imgurl: "https://m.media-amazon.com/images/M/MV5BMDk4MTdhYzEtODk3OS00ZDBjLWFhNTQtMDI2ODdjNzQzZTA3XkEyXkFqcGdeQXVyMjMxOTE0ODA@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 3,
        title: " The Pale Blue Eye", 
        synopsis: "A world-weary detective is hired to investigate the murder of a West Point cadet. Stymied by the cadets' code of silence...",
        genre: "terror",
        rating: 6.6,
        imgurl:"https://m.media-amazon.com/images/M/MV5BZDg2YThlMTItYzhhMy00OWE3LTljYTAtYTExMDM5NzRjOGFhXkEyXkFqcGdeQXVyMTEzMTI1Mjk3._V1_SX300.jpg", 
        comments: [],
        likes: 0
    },
    {
        id: 4,
        title: "Infinity Pool", 
        synopsis: "James and Em Foster are enjoying an all-inclusive beach vacation in the fictional island of La Tolqa, when a fatal accident exposes the resort's perverse subculture of hedonistic tourism, reckless violence and surreal horrors.",
        genre: "terror",
        rating: 6.9,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BYmVmNzYxNDctNmFmZC00MmJjLTg0NzctNjM2OGJhNGI4MDAyXkEyXkFqcGdeQXVyMjkwOTAyMDU@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 5,
        title: "X", 
        synopsis: "In 1979, a group of young filmmakers set out to make an adult film in rural Texas, but when their reclusive, elderly hosts catch them in the act, the cast find themselves fighting for their lives.",
        genre: "terror",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BMTJiMmE5YWItOWZjYS00YTg0LWE0MTYtMzg2ZTY4YjNkNDEzXkEyXkFqcGdeQXVyMTAzMDg4NzU0._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 6,
        title: " Avatar: The Way of Water", 
        synopsis: "Jake Sully lives with his newfound family formed on the extrasolar moon Pandora. Once a familiar threat returns to finish what was previously started...",
        genre: "action",
        rating: 7.8,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BYjhiNjBlODctY2ZiOC00YjVlLWFlNzAtNTVhNzM1YjI1NzMxXkEyXkFqcGdeQXVyMjQxNTE1MDA@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 7,
        title: "Everything Everywhere All at Once", 
        synopsis: "A middle-aged Chinese immigrant is swept up into an insane adventure in which she alone can save existence by exploring other universes and connecting with the lives she could have led.",
        genre: "action",
        rating: 8.0,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BYTdiOTIyZTQtNmQ1OS00NjZlLWIyMTgtYzk5Y2M3ZDVmMDk1XkEyXkFqcGdeQXVyMTAzMDg4NzU0._V1_SX300.jpg", 
        comments: [],
        likes: 0
    },
    {
        id: 8,
        title: "Pathaan", 
        synopsis: "An Indian spy takes on the leader of a group of mercenaries who have nefarious plans to target his homeland.",
        genre: "action",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BM2QzM2JiNTMtYjU4Ny00MDZkLTk3MmUtYTRjMzVkZGJlNmYyXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 9,
        title: "Teen Wolf: The Movie", 
        synopsis: "A terrifying evil has emerged. The wolves howl once again, but only a Werewolf like Scott McCall...",
        genre: "action",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BYWYyZWU5NzctYjY4Zi00MzYyLTgxZTMtZjBmYWE2NGMwYTllXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 10,
        title: "Shotgun Wedding", 
        synopsis: "In 1979, a group of young filmmakers set out to make an adult film in rural Texas, but when their reclusive, elderly hosts catch them in the act, the cast find themselves fighting for their lives.",
        genre: "action",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BN2IwZDU2NDAtNmJlYS00NDJlLWI1ZjQtOTViY2I0YWZlM2U1XkEyXkFqcGdeQXVyMjkwOTAyMDU@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 11,
        title: "You People", 
        synopsis: "Follows a new couple and their families, who find themselves examining modern love and family dynamics amidst clashing cultures, societal expectations and generational differences.",
        genre: "romance",
        rating: 6.9,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BN2Q3MTA3NGItZDQ0MS00ZTE0LWFmZDMtZTcwNDk0MDA4YmMwXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 12,
        title: "Puss in Boots: The Last Wish", 
        synopsis: "Puss in Boots discovers that his passion for adventure has taken its toll: he has burned through eight of his nine lives. Puss sets out on an epic journey to find the mythical Last Wish and restore his nine lives.",
        genre: "romance",
        rating: 7.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BNjMyMDBjMGUtNDUzZi00N2MwLTg1MjItZTk2MDE1OTZmNTYxXkEyXkFqcGdeQXVyMTQ5NjA0NDM0._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 13,
        title: "Blonde", 
        synopsis: "A fictionalized chronicle of the inner life of Marilyn Monroe",
        genre: "romance",
        rating: 5.5,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BNDk2YTA1MGYtMGNjMi00YTJlLWI1YjItMjBjOGJlZGIwZmYzXkEyXkFqcGdeQXVyODA0MjgyNzM@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 14,
        title: "Where the Crawdads Sing", 
        synopsis: "A woman who raised herself in the marshes of the Deep South becomes a suspect in the murder of a man with whom she was once involved.",
        genre: "romance",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BMTJmNGJmYTgtYjAxNy00YmMzLTk2YTYtMGIzMmUwNDMyMTY1XkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 15,
        title: "Decision to Leave", 
        synopsis: "A detective investigating a man's death in the mountains meets the dead man's mysterious wife in the course of his dogged sleuthing.",
        genre: "romance",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BOTEzYTljMTMtODU0ZC00ZWI0LTlhOGEtYjE3MjI3NTI1YmNhXkEyXkFqcGdeQXVyNjgxODk1MTM@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 16,
        title: "Babylon", 
        synopsis: "A detective investigating a man's death in the mountains meets the dead man's mysterious wife in the course of his dogged sleuthing.",
        genre: "drama",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BNjlkYjc4NGMtZjc3MS00NjQ3LTk4MmUtMTkwZGZjODE1ZDVlXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 17,
        title: "The Banshees of Inisherin", 
        synopsis: "Two lifelong friends find themselves at an impasse when one abruptly ends their relationship, with alarming consequences for both of them.",
        genre: "drama",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BM2NlZDI0ZDktNTg5OS00ZjQ1LWI4MDEtN2I0MDE5NWRiNzA4XkEyXkFqcGdeQXVyMTY5Nzc4MDY@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 18,
        title: "Triangle of Sadness", 
        synopsis: "A detective investigating a man's death in the mountains meets the dead man's mysterious wife in the course of his dogged sleuthing.",
        genre: "drama",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BNDRiZjc0ZDMtMjhlYi00ZjAzLTg0MDQtZDI2NGEyYTBlN2M2XkEyXkFqcGdeQXVyMTA2MDU0NjM5._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 19,
        title: "Glass Onion", 
        synopsis: "Famed Southern detective Benoit Blanc travels to Greece for his latest case.",
        genre: "drama",
        rating: 6.6,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BOTEzYTljMTMtODU0ZC00ZWI0LTlhOGEtYjE3MjI3NTI1YmNhXkEyXkFqcGdeQXVyNjgxODk1MTM@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
    {
        id: 20,
        title: "The Whale", 
        synopsis: "A detective investigating a man's death in the mountains meets the dead man's mysterious wife in the course of his dogged sleuthing.",
        genre: "drama",
        rating: 6.7,
        imgUrl: "https://m.media-amazon.com/images/M/MV5BOTEzYTljMTMtODU0ZC00ZWI0LTlhOGEtYjE3MjI3NTI1YmNhXkEyXkFqcGdeQXVyNjgxODk1MTM@._V1_SX300.jpg",
        comments: [],
        likes: 0
    },
]


export const objMovies = movies.map(movie => new Movie(
    movie.id, movie.title, movie.synopsis,
    movie.genre, movie.rating, movie.imgUrl, movie.comments, movie.likes
))

export function getMoviesByGenre(flag = "all")
{
    switch(flag)
    {
        case "all":
            console.log("Search by", flag + ":");
            return objMovies;
        case flag:
            console.log("Search by", flag + ":");
            return objMovies.filter(movie => movie.genre === flag);
        default:
            break;
    }
}

export function getMoviesById(id : any)
{
    return objMovies.filter(movie => movie.id == id);
}

export function searchMovieByParam(queryParam : string) : Array<Movie>
{
    let param = queryParam.toLowerCase();
    let result = objMovies.filter( movie => movie.title.toLowerCase().includes(param));
    return result;
}


